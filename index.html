<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Watch2EarnReall — Telegram Mini App</title>
  <meta name="theme-color" content="#12d8fa"/>
  <meta name="color-scheme" content="light only"/>

  <!-- Telegram Mini App SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- Monetag Mini App SDK (SET sesuai projectmu) -->
  <script src="//libtl.com/sdk.js" data-zone="9726748" data-sdk="show_9726748"></script>

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #0b1220; --card: #0f172a; --soft: #0b1220;
      --line: #1f2937; --muted: #94a3b8; --text: #e5f2ff;
      --brand1: #12d8fa; --brand2: #6a32c9; --brand3: #a78bfa;
      --ok: #10b981; --err: #ef4444;
    }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; background: radial-gradient(160% 140% at 50% 0%, #102345 0%, #0b1220 60%, #0b1220 100%);
      color:var(--text);
      font-family: "Outfit", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial;
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }
    .app{ max-width:760px; margin:0 auto; padding:16px 16px 90px }
    .app-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
    .brand{ display:flex; align-items:center; gap:10px; position:relative }
    .logo-glow{ width:16px; height:16px; border-radius:999px; background: radial-gradient(100% 100% at 50% 30%, var(--brand1), #6ee7f7); box-shadow: 0 0 20px rgba(18,216,250,.6), 0 0 40px rgba(106,50,201,.3) }
    .brand-title{ font-weight:1000; letter-spacing:.3px; }
    .brand-title .accent{ color:#a78bfa }
    .coins{ background:#0f172a; border:1px solid var(--line); padding:8px 12px; border-radius:12px; font-weight:900 }
    .section-title{ margin:16px 0 8px; display:flex; align-items:center; justify-content:space-between; }
    .muted{ color:var(--muted) }

    .tabs{ display:grid; grid-template-columns: repeat(4,1fr); gap:8px; }
    .tab{ background:#0f172a; border:1px solid var(--line); color:#cbd5e1; border-radius:10px; padding:8px; text-align:center; cursor:pointer; font-weight:800 }
    .tab.active{ color:#fff; border-color:#334155; outline:2px solid #1e293b }

    .screen{ display:none }
    .screen.active{ display:block }

    .home-hero{
      border-radius:16px; padding:14px; background:linear-gradient(150deg, rgba(18,216,250,.08), rgba(167,139,250,.06), rgba(16,185,129,.05));
      border:1px solid rgba(255,255,255,.08)
    }

    .card{ border-radius:16px; padding:14px; background: #0f172a; border: 1px solid var(--line); }

    .btn{ border:1px solid var(--line); background:#0f172a; color:#e5f2ff; border-radius:12px; padding:10px 14px; font-weight:800; cursor:pointer }
    .btn-cta{ background:linear-gradient(90deg, #12d8fa, #6a32c9); border:none; color:#062d1a; font-weight:1000 }
    .pill{ border-radius:999px; padding:6px 10px; border:1px solid var(--line); background:#0b1220; color:#9db5ff; font-weight:900 }

    .tasks-list{ display:grid; gap:10px; margin-top:6px }
    .task-card{ display:flex; align-items:center; justify-content:space-between; gap:10px; border-radius:16px; padding:14px; background:#0f172a; border:1px solid var(--line) }
    .task-left{ display:flex; align-items:center; gap:12px; }
    .task-icon{ width:42px; height:42px; border-radius:12px; display:grid; place-items:center; background:linear-gradient(135deg, #121a2e, #0b1220); color:#8ab4ff; border:1px solid #1e293b }
    .task-meta h3{ margin:0; font-size:16px; font-weight:900 }
    .task-meta p{ margin:0; font-size:13px; color:#9db5ff }

    /* Follow Channels (baru ganti cek-in) */
    .follow-list{ display:grid; gap:8px; margin-top:8px }
    .follow-item{ display:flex; align-items:center; justify-content:space-between; gap:10px; background:#0b1220; border:1px solid var(--line); border-radius:12px; padding:10px 12px }
    .follow-meta{ display:flex; align-items:center; gap:10px }
    .follow-ico{ width:36px; height:36px; border-radius:12px; display:grid; place-items:center; background:linear-gradient(135deg,#dfe7ff,#eaf3ff); color:#08243c; font-weight:900 }
    .follow-action{ display:flex; gap:8px }
  </style>

  <link rel="stylesheet" href="./assets/css/styles.css"/>
</head>
<body>
  <div id="app" class="app">
    <header class="app-header">
      <div class="brand">
        <div class="logo-glow"></div>
        <span class="brand-title">Watch2Earn<span class="accent">Reall</span></span>
      </div>
      <div class="coins">
        <span id="balance">$0.00</span>
      </div>
    </header>

    <main>
      <section id="screen-home" class="screen active">
        <div class="home-hero card">
          <h2>Welcome to Watch2EarnReall</h2>
          <p class="muted">Watch ads & complete tasks to earn rewards.</p>
        </div>

        <!-- === GANTI CEK-IN -> FOLLOW CHANNELS === -->
        <div class="card" id="followCard">
          <div class="section-title">
            <h3>Follow Channels</h3>
            <span class="muted">Join & verify — one time</span>
          </div>

          <div id="followList" class="follow-list"><!-- diisi JS --></div>
          <p class="muted" style="margin-top:8px;font-size:12px">Klik <b>Join</b> untuk membuka channel, lalu kembali dan klik <b>Verify</b> untuk kredit.</p>
        </div>

        <div class="home-ref-card">
          <h3>Invite Friends & Earn</h3>
          <p class="muted">Get 25% of their earnings for life. Share your link and start earning together!</p>
          <button id="btnHomeRefer" class="btn btn-cta">Start Referring</button>
        </div>
      </section>

      <section id="screen-task" class="screen">
        <div class="section-title">
          <p class="muted">Complete the tasks to earn rewards. Verification is done on the server.</p>
        </div>

        <div class="tasks-list">
          <article class="task-card" data-task-id="ad1">
            <div class="task-left">
              <div class="task-icon">▶</div>
              <div class="task-meta">
                <h3>Watch Ad #1</h3>
                <p>Duration ~15–30 sec • Reward after validation</p>
              </div>
            </div>
            <div class="task-right">
              <span class="pill" data-reward-label>$0.01</span>
              <button class="btn btn-cta" data-action="watch">Watch Ad</button>
            </div>
          </article>

          <article class="task-card" data-task-id="ad2">
            <div class="task-left">
              <div class="task-icon">▶</div>
              <div class="task-meta">
                <h3>Watch Ad #2</h3>
                <p>Duration ~15–30 sec • Reward after validation</p>
              </div>
            </div>
            <div class="task-right">
              <span class="pill" data-reward-label>$0.01</span>
              <button class="btn btn-cta" data-action="watch">Watch Ad</button>
            </div>
          </article>

          <article class="task-card" data-task-id="ad3">
            <div class="task-left">
              <div class="task-icon">▶</div>
              <div class="task-meta">
                <h3>Watch Ad #3</h3>
                <p>Duration ~15–30 sec • Reward after validation</p>
              </div>
            </div>
            <div class="task-right">
              <span class="pill" data-reward-label>$0.01</span>
              <button class="btn btn-cta" data-action="watch">Watch Ad</button>
            </div>
          </article>
        </div>

        <div class="section-title"><span></span><small class="muted">After the ad finishes, the server will verify before adding your balance.</small></div>
      </section>

      <section id="screen-referral" class="screen">
        <div class="card">
          <h3>Refer & Earn Forever</h3>
          <p class="muted">Share your link & earn a lifetime percentage.</p>
          <!-- Referral UI kamu di sini (dari file asli) -->
        </div>
      </section>

      <section id="screen-profile" class="screen">
        <div class="profile card">
          <div class="pf-head" style="display:flex;gap:12px;align-items:center">
            <img id="profileAvatar" class="pf-ava" alt="avatar" src="assets/images/avatar.svg" style="width:56px;height:56px;border-radius:999px;border:2px solid #1f2937;object-fit:cover;background:#111827"/>
            <div>
              <div id="profileName" style="font-weight:900">Guest</div>
              <div id="profileUsername" class="muted">—</div>
            </div>
          </div>
        </div>

        <div class="withdraw card" style="margin-top:10px">
          <h3>BEP20 Address</h3>
          <form id="addressForm" style="display:grid;gap:8px">
            <input id="bscAddress" class="pill" placeholder="0x..." style="height:42px"/>
            <button class="btn" type="submit">Save Address</button>
          </form>
        </div>

        <div class="withdraw card" style="margin-top:10px">
          <h3>Withdraw</h3>
          <form id="withdrawForm" style="display:grid;gap:8px">
            <input id="withdrawAmount" class="pill" type="number" step="0.01" min="1" placeholder="Amount (min $1.00)" style="height:42px"/>
            <button class="btn" type="submit">Request Withdraw</button>
          </form>
          <p class="muted" style="margin-top:8px">Ensure your BEP20 address is correct before requesting.</p>
        </div>
      </section>
    </main>
  </div>

  <!-- Bottom Tabs -->
  <nav class="tabbar" style="position:fixed;left:0;right:0;bottom:0;padding:10px 12px 14px;background:rgba(10,12,20,.72);backdrop-filter: blur(8px);border-top:1px solid var(--line)">
    <div class="tabs" style="max-width:760px;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr);gap:8px">
      <div class="tab active" data-target="home">Home</div>
      <div class="tab" data-target="task">Task</div>
      <div class="tab" data-target="referral">Referral</div>
      <div class="tab" data-target="profile">Profil</div>
    </div>
  </nav>

  <!-- Config & App -->
  <script>
    /* Isi daftar channel yang mau di-follow.
       Format: { id: 'task key unik', title: 'Nama Channel', username: 't_me_username', reward: 0.01 } */
    window.FOLLOW_CHANNELS = [
      { id: 'follow_main', title: 'Channel Utama', username: 'your_channel_username', reward: 0.01 },
      { id: 'follow_backup', title: 'Channel Backup', username: 'your_backup_username', reward: 0.01 }
    ];
  </script>
  <script src="./assets/js/app.js"></script>
</body>
</html>
